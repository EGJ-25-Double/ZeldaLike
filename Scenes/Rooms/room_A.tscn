[gd_scene load_steps=11 format=4 uid="uid://c6qfuo6o0y6vv"]

[ext_resource type="PackedScene" uid="uid://biai3yc235x6m" path="res://Scenes/Rooms/room.tscn" id="1_u5py1"]
[ext_resource type="TileSet" uid="uid://b3tjhq42xbko4" path="res://Assets/Sprites/Rooms/RoomTileSet.tres" id="2_4310n"]
[ext_resource type="PackedScene" path="res://Scenes/Interaction/item_unlocker.tscn" id="2_4700l"]
[ext_resource type="Resource" uid="uid://bgdb84stswvjw" path="res://Data/mm_item_lever.tres" id="3_4310n"]
[ext_resource type="PackedScene" uid="uid://ysbf22hdijgi" path="res://Scenes/Interaction/trigger.tscn" id="5_0d7l7"]
[ext_resource type="Script" uid="uid://b2vmix77s6tr7" path="res://Scenes/room_state.gd" id="6_yfihf"]
[ext_resource type="Script" uid="uid://bhbmc3hqm0ekf" path="res://Scenes/Inventory/item_memo.gd" id="7_vbh2w"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lcmye"]
size = Vector2(20, 72)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ecnvq"]
size = Vector2(74, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vbh2w"]
size = Vector2(646, 267.5)

[node name="Room_A" instance=ExtResource("1_u5py1")]

[node name="GroundTileLayer" parent="TileLayers" index="0"]
tile_map_data = PackedByteArray("AAD+//3/AAAAAAQAAAD+//7/AAAAAAQAAAD+////AAAAAAQAAAD///z/AAAAAAQAAAD///3/AAAAAAQAAAD///7/AAAAAAQAAAD/////AAAAAAQAAAAAAPz/AAAAAAQAAAAAAP3/AAAAAAQAAAABAPz/AAAAAAQAAAD+//z/AAAAAAQAAAAAAP7/AAAAAAQAAAAAAP//AAAAAAQAAAABAP7/AAAAAAQAAAABAP//AAAAAAQAAAABAP3/AAAAAAQAAAACAP//AAAAAAQAAAADAP//AAAAAAQAAAADAAAAAAAAAAQAAAADAAEAAAAAAAQAAAADAAIAAAAAAAQAAAADAAMAAAAAAAQAAAADAAQAAAAAAAQAAAADAAUAAAACAAEAADAEAAAAAAAAAAQAAAAEAAEAAAAAAAQAAAAEAAIAAAAAAAQAAAAEAAMAAAAAAAQAAAAEAAQAAAAAAAQAAAAEAAUAAAACAAEAADAFAAAAAAAAAAQAAAAFAAEAAAAAAAQAAAAFAAIAAAAAAAQAAAAFAAMAAAAAAAQAAAAFAAQAAAAAAAQAAAAFAAUAAAACAAEAADACAP7/AAAAAAQAAAACAP3/AAAAAAQAAAACAPz/AAAAAAQAAAADAPz/AAAAAAQAAAADAP3/AAAAAAQAAAADAP7/AAAAAAQAAAAEAPz/AAAAAAQAAAAEAP3/AAAAAAQAAAAEAP7/AAAAAAQAAAAEAP//AAAAAAQAAAAFAPz/AAAAAAQAAAAFAP3/AAAAAAQAAGAFAP7/AAAAAAQAAAAFAP//AAAAAAQAAAD//wYAAAAAAAAAADAAAAYAAAAAAAoAAAABAAYAAAAAAAoAAAACAAYAAAAAAAAAAGD+/wYAAAAAAAAAADADAAYAAAAAAAAAAAAEAAYAAAAAAAAAACAFAAYAAAAAAAoAAAAGAAYAAAAAAAoAAAAHAAYAAAAAAAAAAAAIAAYAAAAAAAAAAGAJAAYAAAAAAAAAAAAKAAYAAAAAAAoAAAD9/wYAAAAAAAAAAAD8/wYAAAAAAAAAACD7/wYAAAAAAAoAAAD6/wYAAAAAAAoAAAD5/wYAAAAAAAAAAAD4/wYAAAAAAAAAADD3/wYAAAAAAAoAAAD2/wYAAAAAAAAAADD1/wYAAAAAAAoAAAALAAUAAAAAAAAAAAALAAQAAAAAAAAAACALAAMAAAAAAAAAAAALAAIAAAAAAAoAAAALAAEAAAAAAAoAAAALAAAAAAAAAAAAAGALAP7/AAAAAAAAADALAP3/AAAAAAAAAAALAPz/AAAAAAoAAAALAPv/AAAAAAoAAAD0//v/AAAAAAAAADD0//z/AAAAAAoAAAD0//3/AAAAAAoAAAD0//7/AAAAAAoAAAD0////AAAAAAoAAAD0/wAAAAAAAAAAAAD0/wEAAAAAAAAAAFD0/wIAAAAAAAoAAAD0/wMAAAAAAAAAAAD0/wQAAAAAAAoAAAD0/wUAAAAAAAAAADD0//r/AAAAAAAAAAALAPr/AAAAAAAAAAD1//n/AAAAAAoAAAD2//n/AAACAAEAAGD3//n/AAAAAAQAAAD4//n/AAAAAAQAAAD5//n/AAACAAEAAFD6//n/AAAAAAAAAAD7//n/AAAAAAAAAHD8//n/AAAAAAAAAAD9//n/AAAAAAoAAAD+//n/AAAAAAAAAAD///n/AAAAAAAAAGAAAPn/AAAAAAAAADABAPn/AAAAAAAAAAACAPn/AAAAAAoAAAADAPn/AAACAAEAAGAEAPn/AAAAAAQAAAAFAPn/AAAAAAQAAAAGAPn/AAACAAEAAFAHAPn/AAAAAAAAADAIAPn/AAAAAAAAAAAJAPn/AAAAAAoAAAAKAPn/AAAAAAoAAAD1//r/AAABAAEAAAD2//r/AAADAAEAAAD3//r/AAAAAAQAAAD4//r/AAAAAAQAAAD5//r/AAADAAEAAFD6//r/AAACAAEAAAD7//r/AAAEAAMAAAD8//r/AAACAAEAAAD9//r/AAACAAEAAAD+//r/AAACAAEAAAD///r/AAACAAEAAAAAAPr/AAACAAEAAAABAPr/AAACAAEAAAACAPr/AAACAAEAAAADAPr/AAADAAEAAAAEAPr/AAAAAAQAAAAFAPr/AAAAAAQAAAAGAPr/AAADAAEAAFAHAPr/AAAEAAIAAAAIAPr/AAACAAEAAAAJAPr/AAACAAEAAAAKAPr/AAABAAEAAFD1//v/AAAEAAIAAGD1//z/AAAEAAMAAED1//3/AAAEAAMAAGD1//7/AAACAAEAAGD1/wAAAAACAAEAAGD1/wEAAAACAAEAAGD1/wMAAAACAAEAAGD1/wQAAAACAAEAAGD1/wUAAAABAAEAAGD2//v/AAAAAAQAAAD2//z/AAAAAAQAAAD2//3/AAAAAAQAAAD2//7/AAAAAAQAAAD2////AAAAAAQAAAD2/wAAAAAAAAQAAAD2/wEAAAAAAAQAAAD2/wIAAAAAAAQAAAD2/wMAAAAAAAQAAAD2/wQAAAAAAAQAAAD2/wUAAAACAAEAADD3//v/AAAAAAQAAAD3//z/AAAAAAQAAAD3//3/AAAAAAQAAAD3//7/AAAAAAQAAAD3////AAAAAAQAAAD3/wAAAAAAAAQAAAD3/wEAAAAAAAQAAAD3/wIAAAAAAAQAAAD3/wMAAAAAAAQAAAD3/wQAAAAAAAQAAAD3/wUAAAACAAEAADD4//v/AAAAAAQAAAD4//z/AAAAAAQAAAD4//3/AAAAAAQAAAD4//7/AAAAAAQAAAD4////AAAAAAQAAAD4/wAAAAAAAAQAAAD4/wEAAAAAAAQAAAD4/wIAAAABAAQAADD4/wMAAAABAAQAAGD4/wQAAAAAAAQAAAD4/wUAAAACAAEAADD5//v/AAAAAAQAAAD5//z/AAAAAAQAAAD5//3/AAAAAAQAAAD5//7/AAAAAAQAAAD5////AAAAAAQAAAD5/wAAAAAAAAQAAAD5/wEAAAAAAAQAAAD5/wIAAAABAAQAAAD5/wMAAAABAAQAAAD5/wQAAAAAAAQAAAD5/wUAAAAEAAMAADD6//v/AAABAAQAAGD6//z/AAAAAAQAAAD6//3/AAAAAAQAAAD6//7/AAAAAAQAAAD6////AAAAAAQAAAD6/wAAAAAAAAQAAAD6/wEAAAAAAAQAAAD6/wIAAAAAAAQAAAD6/wMAAAAAAAQAAAD6/wQAAAAAAAQAAAD6/wUAAAACAAEAADD7//v/AAAAAAQAAAD7//z/AAAAAAQAAAD7//3/AAAAAAQAAAD7//7/AAAAAAQAAAD7////AAAAAAQAAAD7/wAAAAAAAAQAAAD7/wEAAAABAAQAAAD7/wIAAAAAAAQAAAD7/wMAAAAAAAQAAAD7/wQAAAAAAAQAAAD7/wUAAAACAAEAADD8//v/AAAAAAQAAAD8//z/AAAAAAQAAAD8//3/AAAAAAQAAAD8//7/AAAAAAQAAAD8////AAAAAAQAAAD8/wAAAAAAAAQAAAD8/wEAAAABAAQAAAD8/wIAAAAAAAQAAAD8/wMAAAAAAAQAAAD8/wQAAAAAAAQAAAD8/wUAAAACAAEAADD9//v/AAAAAAQAAAD9//z/AAAAAAQAAAD9//3/AAABAAQAAAD9//7/AAAAAAQAAAD9////AAAAAAQAAAD+//v/AAAAAAQAAAD///v/AAABAAQAADAAAPv/AAAAAAQAAAABAPv/AAAAAAQAAAACAPv/AAAAAAQAAAADAPv/AAAAAAQAAAAEAPv/AAAAAAQAAAAFAPv/AAAAAAQAAAAGAPv/AAAAAAQAAAAHAPv/AAAAAAQAAAAIAPv/AAAAAAQAAAAJAPv/AAAAAAQAAAAKAPv/AAACAAEAAFAGAPz/AAAAAAQAAAAGAP3/AAAAAAQAAAAGAP7/AAAAAAQAAAAGAP//AAAAAAQAAAAGAAAAAAAAAAQAAAAGAAEAAAAAAAQAAAAGAAIAAAAAAAQAAAAGAAMAAAAAAAQAAAAGAAQAAAAAAAQAAAAGAAUAAAACAAEAADAHAPz/AAAAAAQAAAAHAP3/AAAAAAQAAAAHAP7/AAAAAAQAAAAHAP//AAAAAAQAAAAHAAAAAAAAAAQAAAAHAAEAAAAAAAQAAAAHAAIAAAAAAAQAAAAHAAMAAAAAAAQAAAAHAAQAAAAAAAQAAAAHAAUAAAAEAAMAADAIAPz/AAAAAAQAAAAIAP3/AAAAAAQAAAAIAP7/AAAAAAQAAAAIAP//AAAAAAQAAAAIAAAAAAAAAAQAAAAIAAEAAAAAAAQAAAAIAAIAAAAAAAQAAAAIAAMAAAAAAAQAAAAIAAQAAAAAAAQAAAAIAAUAAAACAAEAADAJAPz/AAAAAAQAAAAJAP3/AAAAAAQAAAAJAP7/AAAAAAQAAAAJAP//AAAAAAQAAAAJAAAAAAAAAAQAAAAJAAEAAAAAAAQAAAAJAAIAAAAAAAQAAAAJAAMAAAAAAAQAAAAJAAQAAAAAAAQAAAAJAAUAAAACAAEAADAKAPz/AAAEAAMAAFAKAP3/AAACAAEAAFAKAAAAAAACAAEAAFAKAAEAAAACAAEAAFAKAAIAAAACAAEAAFAKAAMAAAAEAAIAAFAKAAQAAAACAAEAAFAKAAUAAAABAAEAADD0/wYAAAAAAAAAAAALAAYAAAAAAAoAAAALAPn/AAAAAAAAAAD0//n/AAAAAAoAAAD9/wAAAAABAAQAAAD9/wEAAAAAAAQAAAD9/wIAAAAAAAQAAAD9/wMAAAAAAAQAAAD9/wQAAAAAAAQAAAD9/wUAAAAEAAIAADD+/wAAAAAAAAQAAAD+/wEAAAAAAAQAAAD+/wIAAAAAAAQAAAD+/wMAAAAAAAQAAAD+/wQAAAAAAAQAAAD+/wUAAAACAAEAADD//wAAAAAAAAQAAAD//wEAAAAAAAQAAAD//wIAAAAAAAQAAAD//wMAAAAAAAQAAAD//wQAAAAAAAQAAAD//wUAAAACAAEAADAAAAAAAAAAAAQAAAAAAAEAAAAAAAQAAAAAAAIAAAAAAAQAAAAAAAMAAAAAAAQAAAAAAAQAAAAAAAQAAAAAAAUAAAACAAEAADABAAAAAAAAAAQAAAABAAEAAAAAAAQAAAABAAIAAAAAAAQAAAABAAMAAAAAAAQAAAABAAQAAAAAAAQAAAABAAUAAAACAAEAADACAAAAAAAAAAQAAFACAAEAAAAAAAQAAAACAAIAAAAAAAQAAAACAAMAAAAAAAQAAAACAAQAAAAAAAQAAAACAAUAAAACAAEAADAKAP7/AAACAAEAAFD1////AAACAAEAAGALAP//AAAAAAAAAGAKAP//AAACAAEAAFD1/wIAAAACAAEAAGA=")

[node name="ObstaclesTileLayer" parent="TileLayers" index="1"]
tile_map_data = PackedByteArray("AAD5//v/AAACAAoAAGD5//z/AAACAAoAAGD5//3/AAACAAoAAGD5//7/AAACAAoAAGD5////AAACAAoAAGD5/wAAAAACAAoAAGD5/wEAAAAEAAoAADD6/wIAAAACAAoAAGD6/wQAAAACAAoAAGD6/wMAAAADAAoAAGD6/wEAAAAFAAoAAGD6//v/AAAAAAoAAAD6//z/AAABAAoAAAD6//3/AAAAAAoAAAD6//7/AAAAAAoAAAD6/wAAAAAAAAoAAAD8//v/AAADAAoAAFD7//v/AAAAAAoAAAD7//z/AAAFAAoAADD7//3/AAACAAoAAFD7//7/AAADAAoAAHD7/wAAAAACAAoAAFD7/wIAAAACAAoAAFD7/wMAAAAFAAoAAFD7/wQAAAABAAoAAGD8/wQAAAACAAoAAFD8/wIAAAAEAAkAAAD8/wMAAAAEAAoAAAD8//z/AAAEAAoAAFD6////AAAAAAoAAAD7////AAACAAoAAFD7/wEAAAACAAoAAFD9//v/AAAKAAYAAAD+//v/AAAKAAYAAAD///v/AAAKAAYAAAAAAPv/AAAKAAYAAAABAPv/AAAKAAYAAAD+//z/AAAKAAYAAAD///z/AAAKAAYAAAAAAPz/AAAKAAYAAAD9//z/AAAKAAYAAAABAPz/AAAKAAYAAAD///3/AAAKAAYAAAD+//3/AAAKAAYAAAAAAP3/AAAKAAYAAAACAPv/AAACAAoAAGADAPv/AAACAAoAAFADAPz/AAACAAoAAFACAPz/AAADAAoAAGACAP3/AAADAAoAAGADAP3/AAADAAoAAFACAP7/AAADAAoAAGADAP7/AAADAAoAAFADAP//AAADAAoAAHACAP//AAACAAoAAGADAAAAAAACAAoAAFACAAAAAAACAAoAAGACAAEAAAACAAoAAGADAAEAAAACAAoAAFACAAIAAAAEAAoAADADAAIAAAAEAAoAAFA=")

[node name="EventDoorLeftLayer" type="TileMapLayer" parent="TileLayers" index="2"]
scale = Vector2(2, 2)
tile_map_data = PackedByteArray("AAD3//r/AAACAAIAACD4//r/AAACAAIAADD5//r/AAACAAEAAAD2//r/AAACAAEAAAA=")
tile_set = ExtResource("2_4310n")

[node name="CollisionShape2D" type="CollisionShape2D" parent="DoorWest/StaticBody2D" index="0"]
shape = SubResource("RectangleShape2D_lcmye")

[node name="CollisionShape2D" type="CollisionShape2D" parent="DoorEast/StaticBody2D" index="0"]
shape = SubResource("RectangleShape2D_lcmye")

[node name="DoorNorth" parent="." index="4"]
position = Vector2(-2563, -2090)

[node name="CollisionShape2D" type="CollisionShape2D" parent="DoorNorth/StaticBody2D" index="0"]
shape = SubResource("RectangleShape2D_ecnvq")

[node name="CollisionShape2D" type="CollisionShape2D" parent="DoorSouth/StaticBody2D" index="0"]
shape = SubResource("RectangleShape2D_ecnvq")

[node name="ItemUnlocker" parent="." index="6" instance=ExtResource("2_4700l")]
position = Vector2(-2988, -1330)
unlocked_item = ExtResource("3_4310n")

[node name="Trigger" parent="." index="7" node_paths=PackedStringArray("interactions") instance=ExtResource("5_0d7l7")]
position = Vector2(-2563, -1451)
direction = 2
interactions = [NodePath("../OpenState")]

[node name="CollisionShape2D" parent="Trigger" index="0"]
position = Vector2(7, -73.75)
shape = SubResource("RectangleShape2D_vbh2w")

[node name="DefaultState" type="Node" parent="." index="8" node_paths=PackedStringArray("mapLinked")]
script = ExtResource("6_yfihf")
category = "A_SpawnDoor"
mapLinked = NodePath("../TileLayers/EventDoorLeftLayer")
metadata/_custom_type_script = "uid://b2vmix77s6tr7"

[node name="OpenState" type="Node" parent="." index="9"]
script = ExtResource("6_yfihf")
category = "A_SpawnDoor"
needed_item = Array[ExtResource("7_vbh2w")]([ExtResource("3_4310n")])
metadata/_custom_type_script = "uid://b2vmix77s6tr7"

[editable path="DoorWest"]
[editable path="DoorEast"]
[editable path="DoorNorth"]
[editable path="DoorSouth"]
[editable path="Trigger"]
