[gd_scene load_steps=7 format=4 uid="uid://nvmtnqkhmgc0"]

[ext_resource type="PackedScene" uid="uid://biai3yc235x6m" path="res://Scenes/Rooms/room.tscn" id="1_r76v3"]
[ext_resource type="TileSet" uid="uid://b3tjhq42xbko4" path="res://Assets/Sprites/Rooms/RoomTileSet.tres" id="2_chquh"]
[ext_resource type="PackedScene" uid="uid://c8ms2ha0yf75n" path="res://Scenes/Interaction/item_unlocker.tscn" id="2_kfbkq"]
[ext_resource type="Resource" uid="uid://cnw0g8i3rnhcx" path="res://Data/mm_item_invaders.tres" id="3_x1hi5"]
[ext_resource type="PackedScene" uid="uid://ysbf22hdijgi" path="res://Scenes/Interaction/trigger.tscn" id="5_3lqy5"]
[ext_resource type="Script" uid="uid://b2vmix77s6tr7" path="res://Scenes/room_state.gd" id="6_c1vx8"]

[node name="Room_H" instance=ExtResource("1_r76v3")]

[node name="GroundTileLayer" parent="TileLayers" index="0"]
tile_map_data = PackedByteArray("AAD+//3/AAAAAAQAAAD+//7/AAAAAAQAAAD+////AAAAAAQAAAD///z/AAAAAAQAAAD///3/AAAAAAQAAAD///7/AAAAAAQAAAD/////AAAAAAQAAAAAAPz/AAAAAAQAAAAAAP3/AAAAAAQAAAABAPz/AAAAAAQAAAD+//z/AAAAAAQAAAAAAP7/AAAAAAQAAAAAAP//AAAAAAQAAAABAP7/AAAAAAQAAAABAP//AAAAAAQAAAABAP3/AAAAAAQAAAACAP//AAAAAAQAAAADAP//AAAAAAQAAAADAAAAAAAAAAQAAAADAAEAAAAAAAQAAAADAAIAAAAAAAQAAAADAAMAAAAAAAQAAAADAAQAAAAAAAQAAAADAAUAAAACAAEAADAEAAAAAAABAAQAAGAEAAEAAAAAAAQAAAAEAAIAAAAAAAQAAAAEAAMAAAAAAAQAAAAEAAQAAAAAAAQAAAAEAAUAAAACAAEAADAFAAAAAAAAAAQAAAAFAAEAAAAAAAQAAAAFAAIAAAAAAAQAAAAFAAMAAAAAAAQAAAAFAAQAAAAAAAQAAAAFAAUAAAACAAEAADACAP7/AAAAAAQAAAACAP3/AAAAAAQAAAACAPz/AAAAAAQAAAADAPz/AAAAAAQAAAADAP3/AAAAAAQAAAADAP7/AAAAAAQAAAAEAPz/AAAAAAQAAAAEAP3/AAAAAAQAAAAEAP7/AAAAAAQAAAAEAP//AAAAAAQAAAAFAPz/AAAAAAQAAAAFAP3/AAAAAAQAAGAFAP7/AAAAAAQAAAAFAP//AAAAAAQAAAD//wYAAAAAAAAAAGAAAAYAAAAAAAoAAAABAAYAAAAAAAAAAGACAAYAAAAAAAAAAGD+/wYAAAAAAAAAAGADAAYAAAAAAAAAAAAEAAYAAAAAAAAAACAFAAYAAAAAAAoAAAAGAAYAAAAAAAAAAAAHAAYAAAAAAAoAAAAIAAYAAAAAAAoAAAD9/wYAAAAAAAAAAAD8/wYAAAAAAAoAAAD7/wYAAAAAAAAAACD6/wYAAAAAAAAAAAD5/wYAAAAAAAoAAAD4/wYAAAAAAAAAADD3/wYAAAAAAAoAAAD2/wYAAAAAAAAAADD1/wYAAAAAAAoAAAD0//v/AAAAAAAAADD0//z/AAAAAAoAAAD0//3/AAAAAAAAAAD0//7/AAAEAAMAAAD0////AAAAAAQAAAD0/wAAAAABAAQAAAD0/wEAAAACAAEAADD0/wIAAAAAAAAAADD0/wMAAAAAAAAAAAD0/wQAAAAAAAAAAFD0/wUAAAAAAAoAAAD0//r/AAAAAAAAAAD1//n/AAAAAAAAAAD2//n/AAAAAAAAAGD3//n/AAAAAAAAAAD4//n/AAAAAAoAAAD5//n/AAAAAAoAAAD6//n/AAAAAAAAAAD7//n/AAAAAAAAAHD8//n/AAAAAAoAAAD9//n/AAAAAAAAAAD+//n/AAAAAAoAAAD///n/AAAAAAoAAAAAAPn/AAAAAAoAAAABAPn/AAAAAAAAADACAPn/AAAAAAAAAAADAPn/AAAAAAoAAAAEAPn/AAAAAAoAAAAFAPn/AAAAAAAAAAAGAPn/AAAAAAoAAAAHAPn/AAAAAAoAAAAIAPn/AAAAAAAAAAD1//r/AAABAAEAAAD2//r/AAAEAAMAAAD3//r/AAAEAAMAABD4//r/AAACAAEAAAD5//r/AAAEAAMAAAD6//r/AAACAAEAAAD7//r/AAACAAEAAAD8//r/AAACAAEAABD9//r/AAAEAAMAAAD+//r/AAACAAEAAAD///r/AAACAAEAAAAAAPr/AAACAAEAAAABAPr/AAACAAEAAAACAPr/AAACAAEAAAADAPr/AAACAAEAAAAEAPr/AAACAAEAAAAFAPr/AAACAAEAAAAGAPr/AAACAAEAAAAHAPr/AAAEAAIAAAAIAPr/AAABAAEAAFD1//v/AAACAAEAAGD1//z/AAAEAAMAAGD1//3/AAACAAEAAGD1//7/AAADAAEAAAD1/wAAAAAAAAQAAAD1/wEAAAADAAEAAGD1/wMAAAACAAEAAGD1/wQAAAACAAEAAGD1/wUAAAABAAEAAGD2//v/AAAAAAQAAAD2//z/AAAAAAQAAAD2//3/AAAAAAQAAAD2//7/AAAAAAQAAAD2////AAAAAAQAAAD2/wAAAAAAAAQAAAD2/wEAAAAAAAQAAAD2/wIAAAAAAAQAAAD2/wMAAAAAAAQAAAD2/wQAAAAAAAQAAAD2/wUAAAACAAEAADD3//v/AAAAAAQAAAD3//z/AAAAAAQAAAD3//3/AAAAAAQAAAD3//7/AAAAAAQAAAD3////AAAAAAQAAAD3/wAAAAAAAAQAAAD3/wEAAAAAAAQAAAD3/wIAAAAAAAQAAAD3/wMAAAAAAAQAAAD3/wQAAAAAAAQAAAD3/wUAAAACAAEAADD4//v/AAAAAAQAAAD4//z/AAAAAAQAAAD4//3/AAAAAAQAAAD4//7/AAAAAAQAAAD4////AAAAAAQAAAD4/wAAAAAAAAQAAAD4/wEAAAAAAAQAAAD4/wIAAAAAAAQAAAD4/wMAAAAAAAQAAAD4/wQAAAAAAAQAAAD4/wUAAAACAAEAADD5//v/AAAAAAQAAAD5//z/AAAAAAQAAAD5//3/AAAAAAQAAAD5//7/AAAAAAQAAAD5////AAAAAAQAAAD5/wAAAAAAAAQAAAD5/wEAAAAAAAQAAAD5/wIAAAAAAAQAAAD5/wMAAAAAAAQAAAD5/wQAAAAAAAQAAAD5/wUAAAAEAAMAADD6//v/AAABAAQAAGD6//z/AAAAAAQAAAD6//3/AAAAAAQAAAD6//7/AAAAAAQAAAD6////AAAAAAQAAAD6/wAAAAAAAAQAAAD6/wEAAAAAAAQAAAD6/wIAAAAAAAQAAAD6/wMAAAAAAAQAAAD6/wQAAAAAAAQAAAD6/wUAAAACAAEAADD7//v/AAAAAAQAAAD7//z/AAAAAAQAAAD7//3/AAAAAAQAAAD7//7/AAAAAAQAAAD7////AAAAAAQAAAD7/wAAAAAAAAQAAAD7/wEAAAABAAQAAAD7/wIAAAAAAAQAAAD7/wMAAAAAAAQAAAD7/wQAAAAAAAQAAAD7/wUAAAACAAEAADD8//v/AAAAAAQAAAD8//z/AAAAAAQAAAD8//3/AAAAAAQAAAD8//7/AAAAAAQAAAD8////AAAAAAQAAAD8/wAAAAAAAAQAAAD8/wEAAAAAAAQAAAD8/wIAAAAAAAQAAAD8/wMAAAAAAAQAAAD8/wQAAAAAAAQAAAD8/wUAAAACAAEAADD9//v/AAAAAAQAAAD9//z/AAAAAAQAAAD9//3/AAAAAAQAAAD9//7/AAAAAAQAAAD9////AAAAAAQAAAD+//v/AAAAAAQAAAD///v/AAABAAQAADAAAPv/AAAAAAQAAAABAPv/AAAAAAQAAAACAPv/AAAAAAQAAAADAPv/AAAAAAQAAAAEAPv/AAAAAAQAAAAFAPv/AAAAAAQAAAAGAPv/AAAAAAQAAAAHAPv/AAAAAAQAAAAIAPv/AAACAAEAAFAGAPz/AAAAAAQAAAAGAP3/AAAAAAQAAAAGAP7/AAAAAAQAAAAGAP//AAAAAAQAAAAGAAAAAAAAAAQAAAAGAAEAAAAAAAQAAAAGAAIAAAAAAAQAAAAGAAMAAAAAAAQAAAAGAAQAAAAAAAQAAAAGAAUAAAACAAEAADAHAPz/AAAAAAQAAAAHAP3/AAAAAAQAAAAHAP7/AAAAAAQAAAAHAP//AAAAAAQAAAAHAAAAAAAAAAQAAAAHAAEAAAAAAAQAAAAHAAIAAAAAAAQAAAAHAAMAAAAAAAQAAAAHAAQAAAAAAAQAAAAHAAUAAAAEAAMAADAIAPz/AAACAAEAAFAIAP3/AAACAAEAAFAIAP7/AAACAAEAAFAIAP//AAACAAEAAFAIAAAAAAACAAEAAFAIAAEAAAACAAEAAFAIAAIAAAACAAEAAFAIAAMAAAACAAEAAFAIAAQAAAACAAEAAFAIAAUAAAABAAEAADD0/wYAAAAAAAAAAAD0//n/AAAAAAoAAAD9/wAAAAAAAAQAAAD9/wEAAAAAAAQAAAD9/wIAAAAAAAQAAAD9/wMAAAAAAAQAAAD9/wQAAAAAAAQAAAD9/wUAAAAEAAIAADD+/wAAAAAAAAQAAAD+/wEAAAAAAAQAAAD+/wIAAAAAAAQAAAD+/wMAAAAAAAQAAAD+/wQAAAAAAAQAAAD+/wUAAAACAAEAADD//wAAAAAAAAQAAAD//wEAAAAAAAQAAAD//wIAAAAAAAQAAAD//wMAAAAAAAQAAAD//wQAAAAAAAQAAAD//wUAAAACAAEAADAAAAAAAAAAAAQAAAAAAAEAAAAAAAQAAAAAAAIAAAAAAAQAAAAAAAMAAAAAAAQAAAAAAAQAAAAAAAQAAAAAAAUAAAACAAEAADABAAAAAAAAAAQAAAABAAEAAAAAAAQAAAABAAIAAAAAAAQAAAABAAMAAAAAAAQAAAABAAQAAAAAAAQAAAABAAUAAAACAAEAADACAAAAAAAAAAQAAFACAAEAAAAAAAQAAAACAAIAAAAAAAQAAAACAAMAAAAAAAQAAAACAAQAAAAAAAQAAAACAAUAAAACAAEAADD1////AAABAAQAAAD1/wIAAAACAAEAAGA=")

[node name="ObstaclesTileLayer2" type="TileMapLayer" parent="TileLayers" index="2"]
scale = Vector2(2, 2)
tile_map_data = PackedByteArray("AAD4/wEAAAAEAAoAAGD4/wIAAAACAAoAAGD4/wMAAAADAAoAAGD4/wQAAAACAAoAAGD4//7/AAAEAAoAADD4//3/AAADAAoAAGD4//z/AAACAAoAAGD4//v/AAADAAoAAGD5//7/AAAEAAoAAFD5//3/AAACAAoAAFD5//z/AAADAAoAAFD5//v/AAACAAoAAFD5/wEAAAAEAAoAAAD5/wIAAAADAAoAAFD5/wMAAAACAAoAAFD5/wQAAAADAAoAAFD8/wIAAAAEAAoAADD9/wIAAAAEAAoAAFD9/wEAAAACAAoAAFD8/wEAAAADAAoAAGD8/wAAAAACAAoAAGD8////AAADAAoAAGD9////AAACAAoAAFD9/wAAAAADAAoAAFD9//7/AAADAAoAAFD9//3/AAAEAAoAAAD8//3/AAAEAAoAAGD8//7/AAACAAoAAGABAPv/AAADAAoAAFABAPz/AAACAAoAAFABAP3/AAADAAoAAFABAP7/AAACAAoAAFABAP//AAADAAoAAFAAAP//AAACAAoAAGAAAP7/AAADAAoAAGAAAP3/AAACAAoAAGAAAPz/AAADAAoAAGAAAPv/AAACAAoAAGAAAAAAAAAEAAoAADABAAAAAAAEAAoAAFADAAQAAAADAAoAAGADAAMAAAACAAoAAGADAAIAAAADAAoAAGADAAEAAAACAAoAAGADAAAAAAADAAoAAGADAP//AAACAAoAAGADAP7/AAAEAAoAAGAEAP7/AAAEAAoAAAAEAP//AAADAAoAAFAEAAAAAAACAAoAAFAEAAEAAAADAAoAAFAEAAIAAAACAAoAAFAEAAMAAAADAAoAAFAEAAQAAAACAAoAAFAAAAMAAAAEAAoAAGABAAMAAAAEAAoAAAABAAQAAAACAAoAAFAAAAQAAAADAAoAAGA=")
tile_set = ExtResource("2_chquh")

[node name="ObstaclesTileLayer3" type="TileMapLayer" parent="TileLayers" index="3"]
scale = Vector2(2, 2)
tile_map_data = PackedByteArray("AAD6/wIAAAADAAoAAGD6/wEAAAACAAoAAGD6/wAAAAADAAoAAGD6////AAACAAoAAGD6//7/AAADAAoAAGD6//3/AAAEAAoAAGD7//3/AAAEAAoAAAD7//7/AAACAAoAAFD7////AAADAAoAAFD7/wAAAAACAAoAAFD7/wEAAAADAAoAAFD7/wIAAAACAAoAAFD+/wEAAAACAAoAAGD+/wAAAAADAAoAAGD+////AAACAAoAAGD+//7/AAADAAoAAGD+//3/AAAEAAoAAGD///3/AAACAAoAAAD///7/AAAFAAoAADADAPv/AAADAAoAAGADAPz/AAACAAoAAGADAP3/AAADAAoAAGADAP7/AAACAAoAAGADAP//AAADAAoAAGADAAAAAAACAAoAAGADAAEAAAAEAAoAADAEAAEAAAAEAAoAAFAEAAAAAAADAAoAAFAEAP//AAACAAoAAFAEAP7/AAADAAoAAFAEAP3/AAACAAoAAFAEAPz/AAADAAoAAFAEAPv/AAACAAoAAFD+/wIAAAAEAAoAADD//wIAAAAEAAoAAFD//wEAAAADAAoAAFD//wAAAAACAAoAAFD/////AAADAAoAAFAAAP7/AAADAAoAADABAP7/AAAEAAoAAFABAP3/AAAEAAoAAAAAAP3/AAADAAoAAAD6/wMAAAAEAAoAADD7/wMAAAAEAAoAAFA=")
enabled = false
tile_set = ExtResource("2_chquh")

[node name="ObstaclesTileLayer4" type="TileMapLayer" parent="TileLayers" index="4"]
scale = Vector2(2, 2)
tile_map_data = PackedByteArray("AAAAAPv/AAADAAoAAGAAAPz/AAACAAoAAGAAAP3/AAADAAoAAGAAAP7/AAACAAoAAGAAAP//AAAFAAoAAAD/////AAADAAoAAAD+////AAAEAAoAAGD+/wAAAAAEAAoAADD//wAAAAACAAoAADAAAAAAAAADAAoAADABAAAAAAAEAAoAAFABAP//AAACAAoAAFABAP7/AAADAAoAAFABAP3/AAACAAoAAFABAPz/AAADAAoAAFABAPv/AAADAAoAAFD7/wQAAAADAAoAAFD7/wMAAAACAAoAAFD7/wIAAAADAAoAAFD7/wEAAAACAAoAAFD7/wAAAAADAAoAAFD7////AAACAAoAAFD7//7/AAADAAoAAFD7//3/AAACAAoAAFD7//z/AAADAAoAAFD7//v/AAACAAoAAFD6//v/AAADAAoAAGD6//z/AAACAAoAAGD6//3/AAADAAoAAGD6//7/AAACAAoAAGD6////AAADAAoAAGD6/wAAAAACAAoAAGD6/wEAAAADAAoAAGD6/wIAAAACAAoAAGD6/wMAAAADAAoAAGD6/wQAAAACAAoAAGAAAAMAAAAEAAoAAGAAAAQAAAADAAoAAGABAAQAAAADAAoAAFABAAMAAAAEAAoAAAA=")
enabled = false
tile_set = ExtResource("2_chquh")

[node name="ObstaclesTileLayer5" type="TileMapLayer" parent="TileLayers" index="5"]
scale = Vector2(2, 2)
tile_map_data = PackedByteArray("AAD2/wIAAAACAAoAADD3/wIAAAADAAoAADD4/wIAAAACAAoAADD5/wIAAAADAAoAADD6/wIAAAACAAoAADD7/wIAAAADAAoAADD8/wIAAAACAAoAADD9/wIAAAADAAoAADD+/wIAAAACAAoAADD//wIAAAADAAoAADAAAAIAAAACAAoAADABAAIAAAADAAoAADACAAIAAAACAAoAADADAAIAAAADAAoAADAEAAIAAAACAAoAADAFAAIAAAADAAoAADAGAAIAAAACAAoAADAHAAIAAAADAAoAADAHAAEAAAACAAoAAAAGAAEAAAADAAoAAAAFAAEAAAACAAoAAAAEAAEAAAADAAoAAAADAAEAAAACAAoAAAACAAEAAAADAAoAAAABAAEAAAACAAoAAAAAAAEAAAADAAoAAAD//wEAAAACAAoAAAD+/wEAAAADAAoAAAD9/wEAAAACAAoAAAD8/wEAAAADAAoAAAD7/wEAAAACAAoAAAD6/wEAAAADAAoAAAD5/wEAAAACAAoAAAD4/wEAAAADAAoAAAD3/wEAAAACAAoAAAD2/wEAAAADAAoAAAD2//7/AAADAAoAADD3//7/AAACAAoAADD4//7/AAADAAoAADD5//7/AAACAAoAADD6//7/AAADAAoAADD7//7/AAACAAoAADD8//7/AAADAAoAADD9//7/AAACAAoAADD+//7/AAADAAoAADD///7/AAACAAoAADAAAP7/AAADAAoAADABAP7/AAACAAoAADACAP7/AAADAAoAADADAP7/AAACAAoAADAEAP7/AAADAAoAADAFAP7/AAACAAoAADAGAP7/AAADAAoAADAHAP7/AAACAAoAADAHAP3/AAADAAoAAAAGAP3/AAACAAoAAAAFAP3/AAADAAoAAAAEAP3/AAACAAoAAAADAP3/AAADAAoAAAACAP3/AAACAAoAAAABAP3/AAADAAoAAAAAAP3/AAACAAoAAAD///3/AAADAAoAAAD+//3/AAACAAoAAAD9//3/AAADAAoAAAD8//3/AAACAAoAAAD7//3/AAADAAoAAAD6//3/AAACAAoAAAD5//3/AAADAAoAAAD4//3/AAACAAoAAAD3//3/AAADAAoAAAD2//3/AAACAAoAAAA=")
enabled = false
tile_set = ExtResource("2_chquh")

[node name="DoorWest" parent="." index="2"]
position = Vector2(-3680, 3.05176e-05)

[node name="DoorEast" parent="." index="3"]
position = Vector2(3680, -1164)

[node name="ItemUnlocker" parent="." index="6" instance=ExtResource("2_kfbkq")]
position = Vector2(2091, -4)
unlocked_item = ExtResource("3_x1hi5")

[node name="Trigger4" parent="." index="7" node_paths=PackedStringArray("interactions") instance=ExtResource("5_3lqy5")]
position = Vector2(2082, 0)
trigger_on_walk = true
direction = 15
interactions = [NodePath("../State4")]

[node name="Trigger3" parent="." index="8" node_paths=PackedStringArray("interactions") instance=ExtResource("5_3lqy5")]
position = Vector2(473, 641)
scale = Vector2(0.783409, 1.86361)
trigger_on_walk = true
direction = 15
interactions = [NodePath("../State3")]

[node name="Trigger2" parent="." index="9" node_paths=PackedStringArray("interactions") instance=ExtResource("5_3lqy5")]
position = Vector2(-307, -1300)
scale = Vector2(0.783409, 1.90341)
trigger_on_walk = true
direction = 15
interactions = [NodePath("../State2")]

[node name="Trigger5" parent="." index="10" node_paths=PackedStringArray("interactions") instance=ExtResource("5_3lqy5")]
position = Vector2(-307, 1281)
scale = Vector2(0.783409, 1.90341)
trigger_on_walk = true
direction = 15
interactions = [NodePath("../State2")]

[node name="Trigger1" parent="." index="11" node_paths=PackedStringArray("interactions") instance=ExtResource("5_3lqy5")]
position = Vector2(-2110, -2.00012)
scale = Vector2(0.783409, 1.90341)
trigger_on_walk = true
direction = 15
interactions = [NodePath("../State1")]

[node name="State4" type="Node" parent="." index="12" node_paths=PackedStringArray("mapLinked")]
script = ExtResource("6_c1vx8")
category = "Cartridge_Room_Hollow"
mapLinked = NodePath("../TileLayers/ObstaclesTileLayer5")
metadata/_custom_type_script = "uid://b2vmix77s6tr7"

[node name="State3" type="Node" parent="." index="13" node_paths=PackedStringArray("mapLinked")]
script = ExtResource("6_c1vx8")
category = "Cartridge_Room_Hollow"
mapLinked = NodePath("../TileLayers/ObstaclesTileLayer2")
metadata/_custom_type_script = "uid://b2vmix77s6tr7"

[node name="State2" type="Node" parent="." index="14" node_paths=PackedStringArray("mapLinked")]
script = ExtResource("6_c1vx8")
category = "Cartridge_Room_Hollow"
mapLinked = NodePath("../TileLayers/ObstaclesTileLayer4")
metadata/_custom_type_script = "uid://b2vmix77s6tr7"

[node name="State1" type="Node" parent="." index="15" node_paths=PackedStringArray("mapLinked")]
script = ExtResource("6_c1vx8")
category = "Cartridge_Room_Hollow"
mapLinked = NodePath("../TileLayers/ObstaclesTileLayer3")
metadata/_custom_type_script = "uid://b2vmix77s6tr7"

[editable path="DoorWest"]
[editable path="DoorEast"]
[editable path="DoorNorth"]
[editable path="DoorSouth"]
